@using TpPizza.Services
@inject IPanierService _PanierService
@inject IFavorisService _FavorisService
<div>
    <img src="@Pizza.ImageLink"/>
    <span>@Pizza.Name</span>
    <span>@Pizza.Price â‚¬</span>
    <button @onclick="AjouterPizza">Ajouter au panier</button>
    <button @ref="AddFavorisButtonReference" @onclick="AjouterFavoris">Ajouter aux favoris</button>
</div>

@code {
    [Parameter]
    public Pizza Pizza { get; set; }

    ElementReference AddFavorisButtonReference;

    public async void AjouterFavoris()
    {
        await _FavorisService.AddPizza(Pizza, AddFavorisButtonReference);
    }
    
    public void AjouterPizza()
    {
        if (Pizza != null)
        {
            _PanierService.AjouterAuPanier(Pizza);
        }
    }
}